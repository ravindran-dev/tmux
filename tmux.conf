
# Stabilization
set -g escape-time 0
set -sg repeat-time 600
set -g history-limit 100000
set -g assume-paste-time 0
set -g focus-events on

set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:Tc,alacritty:Tc,kitty:Tc"

set -g detach-on-destroy off
set -g destroy-unattached off

set -g base-index 1
setw -g pane-base-index 1

set -g aggressive-resize on
setw -g allow-rename off
setw -g allow-rename off

set -g status-interval 3

set-option -g @plugin 'tmux-plugins/tmux-sensible'

set -g message-style "bg=#11111b,fg=#00f6ff"
set -g message-command-style "bg=#11111b,fg=#89b4fa"

set -g pane-border-style "fg=#333333"
set -g pane-active-border-style "fg=#00f6ff"

set -g monitor-activity on
set -g visual-activity off

set -g @tmux-popup-border-style "fg=#00f6ff"
set -g @tmux-popup-bg "#0e1e2e"
set -g @tmux-popup-fg "#cdd6f4"

set -g status on
set -g status-justify centre

set-option -g @async-script-run "on"




# design
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-kitty:Tc"
set -g history-limit 10000
set -g base-index 1
setw -g pane-base-index 1
set -sg escape-time 10
set -gq allow-passthrough on

unbind C-b
set -g prefix C-Space
bind C-Space send-prefix

bind r source-file ~/.config/tmux/tmux.conf \; display-message "tmux reloaded ‚úî" ; run-shell "sleep 0.2 && tmux display-popup -E ~/.config/tmux/scripts/ascii.sh"

bind '\' split-window -h
bind - split-window -v

set-option -g renumber-windows on

bind a display-popup -E "~/.config/tmux/scripts/ascii.sh"

set -g pane-border-status top
set -g pane-border-format " #W | #{pane_current_path} "

bind -n M-h select-pane -L \; if-shell '[ $? != 0 ]' 'select-window -t -1'
bind -n M-l select-pane -R \; if-shell '[ $? != 0 ]' 'select-window -t +1'

setw -g automatic-rename on
set -g automatic-rename-format "#{b:pane_current_command}"

bind ? display-popup -E "~/.config/tmux/scripts/help.sh"
bind z resize-pane -Z

bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

bind -r Left resize-pane -L 3
bind -r Right resize-pane -R 3
bind -r Up resize-pane -U 1
bind -r Down resize-pane -D 1

bind x kill-pane
bind X kill-window
bind c new-window
bind , command-prompt "rename-window %%"
bind . command-prompt "rename-session %%"

bind f new-window -n fastfetch "zsh -lc 'clear && fastfetch; echo; echo \"Press ENTER to close this window\"; read'"

set -g mouse on
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel

set -g status on
set -g status-interval 5
set -g status-justify centre
set -g status-bg "#1e1e2e"
set -g status-fg "#cdd6f4"

set -g status-left-length 60
set -g status-left " #[bg=#0e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] Óûï #S #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥"
set -g status-right-length 150

set -g status-right "\
#[bg=#1e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] Ôãõ #(~/.config/tmux/scripts/cpu.sh) #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥ \
#[bg=#1e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] üíæ#(~/.config/tmux/scripts/mem.sh) #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥ \
#[bg=#1e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] ÔâÄ #(~/.config/tmux/scripts/bat.sh) #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥ \
#(~/.config/tmux/scripts/vpn.sh) \
#[bg=#0e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] Ôá´ #(~/.config/tmux/scripts/net.sh) | Ôê∫ %H:%M | Ôëï %d-%b-%Y #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥ "

setw -g window-status-format "#[fg=#7f849c,bg=#1e1e2e] #I:#W"
set -g status-interval 1


setw -g window-status-format "#[bg=#1e1e2e,fg=#320065]ÓÇ∂#[fg=#00f6ff,bg=#320065] #I:#W #[bg=#1e1e2e,fg=#320065]ÓÇ¥"
setw -g window-status-current-format "#[bg=#1e1e2e,fg=#00f6ff]ÓÇ∂#[fg=#000000,bg=#00f6ff,bold] #I:#W #[bg=#1e1e2e,fg=#00f6ff]ÓÇ¥"
set -g pane-border-style "fg=#313244"
set -g pane-active-border-style "fg=#f9e2af"

setw -g clock-mode-colour "#89b4fa"
setw -g clock-mode-style 24

set -g message-style "bg=#11111b,fg=#f9e2af,bold"
set -g message-command-style "bg=#11111b,fg=#89b4fa"
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'
set -g @resurrect-dir '~/.config/tmux/resurrect'

set-hook -g session-created 'run-shell "sleep 0.2 && tmux display-popup -E ~/.config/tmux/scripts/ascii.sh"'

